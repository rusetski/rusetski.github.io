import{u as n}from"./chunks/theme.BfZET4JM.js";import{a as l,o as e,an as a,b as h,t as p,q as k}from"./chunks/framework.BpiOTli6.js";const g=JSON.parse('{"title":"useInterval","description":"","frontmatter":{},"headers":[],"relativePath":"ru/composables/interval.md","filePath":"ru/composables/interval.md"}'),r={name:"ru/composables/interval.md"},y=Object.assign(r,{setup(d){const{start:i,iteration:t}=n();return i(),(o,s)=>(e(),l("div",null,[s[0]||(s[0]=a(`<h1 id="useinterval" tabindex="-1">useInterval <a class="header-anchor" href="#useinterval" aria-label="Permalink to &quot;useInterval&quot;">​</a></h1><h2 id="использование" tabindex="-1">Использование <a class="header-anchor" href="#использование" aria-label="Permalink to &quot;Использование&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Импортируйте из библиотеки</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useInterval } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vuetification&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Создайте новый интервал и передайте функцию первым аргументом и задержку вторым</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> interval</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(callback, delay);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Теперь вы можете запустить интервал вызвав start</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">interval.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// И остановить его вызвав stop</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">interval.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>Интервал автоматически останавливается при срабатывании хука onBeforeUnmount компонента и при запуске нового таймера из того же экземпляра.</p><h2 id="опции" tabindex="-1">Опции <a class="header-anchor" href="#опции" aria-label="Permalink to &quot;Опции&quot;">​</a></h2><p>Вы также можете передать объект опций в качестве первого аргумента функции useInterval вместо функции обратного вызова.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> interval</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  callback,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  delay: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  repeat: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Название</th><th>Тип</th><th>По умолчинию</th><th>Описание</th></tr></thead><tbody><tr><td><strong>callback</strong></td><td>Function</td><td></td><td>Функция обратного вызова (получает текущую итерацию в качестве аргумента)</td></tr><tr><td><strong>delay</strong></td><td>Number</td><td>1000</td><td>Длительность интервала</td></tr><tr><td><strong>stopOnUnmount</strong></td><td>Boolean</td><td>true</td><td>Останавливать интервал в хуке onBeforeUnmount</td></tr><tr><td><strong>repeat</strong></td><td>Number</td><td>undefined</td><td>Остановить интервал после указанного количества вызовов</td></tr><tr><td><strong>immediately</strong></td><td>Boolean</td><td>true</td><td>Запустить функцию обратного вызова немедленно, не дожидаясь задержки</td></tr></tbody></table><h2 id="номер-текущеи-итерации" tabindex="-1">Номер текущей итерации <a class="header-anchor" href="#номер-текущеи-итерации" aria-label="Permalink to &quot;Номер текущей итерации&quot;">​</a></h2><p>Если вам нужен номер текущей итерации, вы можете получить его как ref из текущего экземпляра или как первый аргумент функции обратного вызова.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> callback</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">iteration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(iteration);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">iteration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(callback);</span></span></code></pre></div>`,11)),h("p",null,"Счетчик итераций: "+p(k(t))+" раз.",1),s[1]||(s[1]=a('<h2 id="изменение-длительности-интервала" tabindex="-1">Изменение длительности интервала <a class="header-anchor" href="#изменение-длительности-интервала" aria-label="Permalink to &quot;Изменение длительности интервала&quot;">​</a></h2><p>Если вам нужно изменить длительность интервала, вы можете передать новое значение как аргумент функции start.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">interval.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Поскольку вы начинаете новый интервал, это запустит его, не дожидаясь окончания предыдущего интервала, а также сбросит счетчик итераций.</p></div><p>Чтобы начинать интервал с новой задержкой каждый раз, когда она изменяется, вы можете сделать что-то вроде этого:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(delay, interval.start);</span></span></code></pre></div>',6))]))}});export{g as __pageData,y as default};
